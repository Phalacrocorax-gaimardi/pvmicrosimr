#randomiise ICEV emissions assignment
#choose segments
agents_in <- initialise_agents(agents0,year_zero)
#no transactions
agents_in$transaction <- FALSE
agent_ts<- vector("list",Nt)
agent_ts[[1]] <- agents_in #agent paraneters with regularized weights
#monthly runs
#Nt <- round((simulation_end-year_zero+1)*12)
#annual runs
Nt <- round((simulation_end-year_zero+1))
agent_ts<- vector("list",Nt)
agent_ts[[1]] <- agents_in #agent paraneters with regularized weights
for(t in seq(2,Nt)){
#
#yeartime <- year_zero+(t-1)/12
yeartime <- year_zero + (t-1)
agent_ts[[t]] <- update_agents4(sD,yeartime,agent_ts[[t-1]],social_network=social,ignore_social, empirical_u = u_empirical) #static social network, everything else static
#agent_ts[[t]] <- tibble::tibble(t=t)
}
test1 <- runABM(sD,Nrun=2,simulation_end = 2030)
test1 <- runABM(sD,Nrun=4,simulation_end = 2030)
social <- make_artificial_society(pv_society_oo,homophily,5)
social
#randomiise ICEV emissions assignment
#choose segments
agents_in <- initialise_agents(agents0,year_zero)
agents_in
update_agents4(sD,yeartime,agent_ts[[t-1]],social_network=social,ignore_social, empirical_u = u_empirical) #static social network, everything else static
update_agents4(sD,yeartime,agents_in,social_network=social,ignore_social, empirical_u = u_empirical) #static social network, everything else static
test <- update_agents4(sD,yeartime,agents_in,social_network=social,ignore_social, empirical_u = u_empirical) #static social network, everything else static
test
yeartime
yeartime <- 2030
test1 <- update_agents4(sD,yeartime,test,social_network=social,ignore_social, empirical_u = u_empirical) #static social network, everything else static
test1
test1 %>% filter(new_solar > 0)
test2 <- update_agents4(sD,yeartime,test1,social_network=social,ignore_social, empirical_u = u_empirical) #static social network, everything else static
test2 %>% filter(new_solar > 0)
test2 %>% filter(qsp21 > 0)
test2 %>% dplyr::filter(qsp21 > 0)
test2 %>% dplyr::filter(qsp21 > 1)
test2 %>% dplyr::filter(qsp21 > 1, new_solar > 0)
test2 %>% filter(new_solar > 0)
#social network conformity effect
#
#fossil_nodes  <- igraph::V(g)$fuel == "fossil"
#adopter_nodes <- igraph::V(g)$old_solar == 0 & igraph::V(g)$new_solar > 0
adopter_nodes <- igraph::V(g)$new_solar > 0
length(adopter_nodes)
a_s
#social network conformity effect
#
#fossil_nodes  <- igraph::V(g)$fuel == "fossil"
#adopter_nodes <- igraph::V(g)$old_solar == 0 & igraph::V(g)$new_solar > 0
adopter_nodes <- igraph::V(g)$new_solar > 0
a_s[adopter_nodes,]
ma
ma %>% sum()
3358/2
a_s$qsp21 <- as.numeric(ma %*% adopter_nodes) #social reinforcement
a_s$qsp21
a_s$qsp21 %>% range()
a_s$qsp21 %>% table()
a_s <- a_s %>% dplyr::rowwise() %>% dplyr::mutate(qsp21 = min(qsp21+1,3)) #qsp21 encoding 1,2,3
agents_out <- a_s
print(paste("time", round(yeartime,1),"PV system adopters",dim(agents_out %>% dplyr::filter(new_solar > 0 & old_solar==0))[1]))
print(paste("PV system augmentors",dim(agents_out %>% dplyr::filter((old_solar > 0 & new_solar > old_solar) || (old_solar > 0 & new_battery > old_battery)))[1]))
load_all()
test1 <- runABM(sD,Nrun=2,simulation_end = 2030)
test1
test1[[1]]
as.numeric(ma %*% adopter_nodes)
as.numeric(ma %*% adopter_nodes) %>% length()
load_all()
document()
check()
install()
load_all()
library(devtools)
load_all()
document()
check()
install()
library(devtools)
load_all()
pv_society
#cer_systems<- read_csv("~/Policy/AgentBasedModels/solarPV/cer_system_data.csv")
#cer_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_survey.csv")
#cer_survey$floor_area_unit <- NULL
#cer_survey$housing_year <- NULL
#cer_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_questions.csv")
#cer_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_qanda.csv")
#pv_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_qanda.csv")
#pv_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/.csv")
#pv_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data.csv")
pv_survey_oo <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data_oo.csv")
#cer_systems<- read_csv("~/Policy/AgentBasedModels/solarPV/cer_system_data.csv")
#cer_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_survey.csv")
#cer_survey$floor_area_unit <- NULL
#cer_survey$housing_year <- NULL
#cer_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_questions.csv")
#cer_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_qanda.csv")
#pv_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_qanda.csv")
#pv_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/.csv")
#pv_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data.csv")
pv_survey_oo <- readr::read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data_oo.csv")
#cer_systems<- read_csv("~/Policy/AgentBasedModels/solarPV/cer_system_data.csv")
#cer_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_survey.csv")
#cer_survey$floor_area_unit <- NULL
#cer_survey$housing_year <- NULL
#cer_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_questions.csv")
#cer_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_qanda.csv")
#pv_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_qanda.csv")
#pv_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/.csv")
#pv_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data.csv")
pv_survey_oo <- pv_survey %>% filter(q1 %in% 2:5,q3 %in% 1:2)
pv_survey
#cer_systems<- read_csv("~/Policy/AgentBasedModels/solarPV/cer_system_data.csv")
#cer_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_survey.csv")
#cer_survey$floor_area_unit <- NULL
#cer_survey$housing_year <- NULL
#cer_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_questions.csv")
#cer_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/IrelandData/cer_survey_reduced/cer_qanda.csv")
#pv_qanda <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_qanda.csv")
#pv_questions <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/.csv")
#pv_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data.csv")
pv_survey_oo <- pv_survey %>% dplyr::filter(q1 %in% 2:5,q3 %in% 1:2)
use_data(pv_survey_oo)
pv_survey_oo
bills
bills_oo
params <- scenario_params_df(scenario_wem,2018.5)
params <- scenario_params_df(scenario_wem,2018.5) %>% fast_params()
test <- map_survey_to_cer(params)
test
test <- map_survey_to_cer(params)
test
load_all()
pv_survey
pv_survey <- read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data.csv")
pv_survey <- readr::read_csv("~/Policy/AgentBasedModels/solarPV/Survey/pv_data.csv")
use_data(pv_survey)
use_data(pv_survey,overwrite = T)
pv_survey
pv_survey_oo
survey_raw <- readr::read_csv("~/Policy/AgentBasedModels/Survey/ESB Final data +LCA.csv")
#seai_elec %>% filter(year==2018)
#owner-occupier bills
#
bills_oo <- survey_raw %>% dplyr::filter(q1 %in% 2:5,q3 %in% 1:2) %>% pull(q9_1) %>% na_if(9999)
load_all()
#seai_elec %>% filter(year==2018)
#owner-occupier bills
#
bills_oo <- survey_raw %>% dplyr::filter(q1 %in% 2:5,q3 %in% 1:2) %>% pull(q9_1) %>% na_if(9999)
#seai_elec %>% filter(year==2018)
#owner-occupier bills
#
bills_oo <- survey_raw %>% dplyr::filter(q1 %in% 2:5,q3 %in% 1:2) %>% pull(q9_1) %>% dplyr::na_if(9999)
#seai_elec %>% filter(year==2018)
#owner-occupier bills
#
bills_oo <- survey_raw %>% dplyr::filter(q1 %in% 2:5,q3 %in% 1:2) %>% dplyr::pull(q9_1) %>% dplyr::na_if(9999)
use_data(bill_oo,overwrite=T)
use_data(bills_oo,overwrite=T)
test <- map_survey_to_cer(params)
test
test$housecode %>% table()
bills
bills_oo
bills_oo %>% length()
bills
help(bills_oo)
bils_oo
bills_oo
help(bills_oo)
load_all()
document()
check()
load_all()
document()
check()
install()
library(devtools)
use_data(beta. = 0.0306,p.=0.01,lambda. = 0.1,internal=T)
beta = 0.0306
beta <- 0.0306
p. <- 0.01
lambda <- 0.1
# beta <- 0.0306
# p. <- 0.01
# lambda <- 0.1
use_data(beta.,p.,lambda.,overwrite=T,internal=T)
beta. <- 0.0306
p. <- 0.01
lambda <- 0.1
use_data(beta.,p.,lambda.,overwrite=T,internal=T)
lambda. <- 0.1
# beta. <- 0.0306
# p. <- 0.01
# lambda. <- 0.1
use_data(beta.,p.,lambda.,overwrite=T,internal=T)
load_all()
document()
check()
install()
beta. <- 0.0306
aversion_4 <- -0.007
aversion_5 <- -0.01
aversion_5. <- -0.01
aversion_4. <- -0.007
use_data(beta.,aversion_4.,aversion_5.,overwrite = T,internal=T)
averse <- c(0,0,0,aversion_4.,aversion_5.)
averse
scenario_wem %>% filter(parameter=="marginal_tax_rate")$value
scenario_wem %>% filter(parameter=="marginal_tax_rate") %>% pull(value)
scenario_wem %>% dplyr::filter(parameter=="marginal_tax_rate") %>% dplyr::pull(value)
sD <- scenario_wem
yeartime <- 2020
agents_in <- agents_init
social_network <- make_artificial_society(society,homophily)
pv_society_oo
social_network <- make_artificial_society(pv_society_oo,homophily)
ignore_social=F
empirical_u = empirical_utils
p. <- 0.01
lambda. <- 0.1
du_social <- dplyr::filter(empirical_u,code=="qsp21")$du_average
theta <- dplyr::filter(empirical_u,code=="theta")$du_average
averse <- c(0,0,0,aversion_4.,aversion_5.)
#parameters from scenario corresponding to yeartime
params <- scenario_params_df(sD,yeartime) %>% fast_params()
a_s <- agents_in
a_s$transaction <- F
a_s <- dplyr::ungroup(a_s)
a_s <- a_s %>% dplyr::mutate(old_solar=new_solar,old_battery=new_battery)
#this subsample of agents decide to look at rooftop pv
b_s <- dplyr::slice_sample(a_s,n=round(dim(a_s)[1]*p.))
a_s <- agents_in
a_s$transaction <- F
a_s <- dplyr::ungroup(a_s)
a_s
agents_in <- initialise_agents(agents_init,2010)
a_s <- agents_in
a_s$transaction <- F
a_s <- dplyr::ungroup(a_s)
a_s <- a_s %>% dplyr::mutate(old_solar=new_solar,old_battery=new_battery)
#this subsample of agents decide to look at rooftop pv
b_s <- dplyr::slice_sample(a_s,n=round(dim(a_s)[1]*p.))
b_s <- b_s %>% dplyr::mutate(transaction=T) %>% dplyr::select(ID,housecode,w_q9_1,w_qsp21,w_theta,q9_1,qsp21,old_solar,old_battery,rooftop_capacity)
get_sys_optimal <- function(params, b_s){
#pv rooftop capacity constrained finacial utilities corresponding to costs in params
cer_sys <- b_s %>% dplyr::left_join(cer_systems) %>% dplyr::filter(solar_capacity < rooftop_capacity)
cer_sys <- cer_sys %>% dplyr::mutate(du=get_sys_util_0(params,demand,imports,exports,solar_capacity,battery_capacity))
#optimal
cer_sys_opt <- cer_sys %>% dplyr::group_by(housecode) %>% dplyr::filter(du==max(du))
cer_sys_opt <- cer_sys_opt %>% dplyr::rename(new_solar=solar_capacity,new_battery=battery_capacity)
return(cer_sys_opt)
#return(b_s %>% dplyr::inner_join(cer_sys_opt))
}
#financially optimal solar pv system
b_s1 <- get_sys_optimal(params,b_s)
b_s1
#add in self-sufficiency/aversion effect
b_s1 <- b_s1 %>% dplyr::mutate(du=du+aversion[q9_1])
#add in self-sufficiency/aversion effect
b_s1 <- b_s1 %>% dplyr::mutate(du=du+averse[q9_1])
b_s1
#add in self-sufficiency/aversion effect
# and scale factor from calibration
#add parial utilities
b_s1 <- b_s1 %>% dplyr::mutate(du_fin=beta.*w_q9_1*du)
b_s1
b_s1 %>% pull(du_fin)
b_s1 %>% dplyr::pull(du_fin)
#add in self-sufficiency/aversion effect
# and scale factor from calibration
#add parial utilities
b_s1 <- b_s1 %>% dplyr::mutate(du_fin=beta.*w_q9_1*du+averse[q9_1])
b_s1 %>% dplyr::pull(du_fin)
b_s1 %>% dplyr::pull(q9_1)
load_all()
scenario_wem <- readxl::read_xlsx("~/Policy/AgentBasedModels/solarPV/scenario_parameters.xlsx", sheet="scenario_WEM")
use_data(scenario_wem,overwrite = T)
load_all()
document()
check()
install()
agents_init
agents_init %>% mutate(w_q9_1 = max(0,w_q9_1))
agents_init %>% dplyr::mutate(w_q9_1 = max(0,w_q9_1))
agents_init %>% dplyr::mutate(w_q9_1 = case_when(w_q9_1<=0~,w_q9_1>0~w_q9_1))
agents_init %>% dplyr::mutate(w_q9_1 = case_when(w_q9_1<=0~0,w_q9_1>0~w_q9_1))
agents_init %>% dplyr::mutate(w_q9_1 = dplyr::case_when(w_q9_1<=0~0,w_q9_1>0~w_q9_1))
agents_init %>% dplyr::mutate(w_q9_1 = dplyr::case_when(w_q9_1<=0~0,w_q9_1>0~w_q9_1)) %>% plyr::filter(w_q9_1==0) %>% dim()
agents_init %>% dplyr::mutate(w_q9_1 = dplyr::case_when(w_q9_1<=0~0,w_q9_1>0~w_q9_1)) %>% dplyr::filter(w_q9_1==0) %>% dim()
46/759
agents_init %>% dplyr::mutate(w_q9_1 = dplyr::case_when(w_q9_1<=0~0,w_q9_1>0~w_q9_1)) %>% dplyr::filter(w_qsp21 < 0) %>% dim()
agents_init %>% dplyr::filter(w_qsp21 <0)
agents_init$w_theta %>% hist()
agents_init$w_qsp21 %>% hist()
agents_init$w_q9_1 %>% hist()
agents
agents <- agents_init
agents %>% dplyr::mutate(w_q9_1=dplyr::case_when(w_q9_1<=quantile(w_q9_1,0.05)~quantile(w_q9_1,0.05),w_q9_1>quantile(w_q9_1,0.05)~quantile(w_q9_1,0.05))
)
x_min <- quantile(agents$w_q9_1,0.05)
x_min
x_max <- quantile(agents$w_q9_1,0.95)
agents %>% dplyr::mutate(w_q9_1=dplyr::case_when(w_q9_1<=~x_min,w_q9_1>quantile(w_q9_1,0.05)~x_max)
agents %>% dplyr::mutate(w_q9_1=dplyr::case_when(w_q9_1<=x_min~x_min,w_q9_1>x_max~x_max)
agents %>% dplyr::mutate(w_q9_1=dplyr::case_when(w_q9_1<=x_min~x_min,w_q9_1>x_max~x_max)
)
agents %>% dplyr::mutate(w_q9_1=dplyr::case_when(w_q9_1<=x_min~x_min,w_q9_1>x_max~x_max, (w_q9_1> x_min) & (w_q9_1 < x_max)~w_q9_1)
)
agents_init <- readr::read_csv("~/Policy/AgentBasedModels/solarPV/agents_init.csv")
use_data(agents_init,overwrite = T)
empirical_utils <- readr::read_csv("~/Policy/AgentBasedModels/solarPV/empirical_utils.csv")
use_data(empirical_utils,overwrite=T)
agents <- agents_init
x_min <- quantile(agents$w_q9_1,0.05)
x_max <- quantile(agents$w_q9_1,0.95)
agents <- agents %>% dplyr::mutate(w_q9_1=dplyr::case_when(w_q9_1<=x_min~x_min,w_q9_1>x_max~x_max, (w_q9_1> x_min) & (w_q9_1 < x_max)~w_q9_1))
agents
load_all()
library(devtools)
load_all()
document()
check()
lambda.
beta.
aversion_4.
p.
install()
load_all()
document()
check()
install()
agents_init
agents_in <- initialise_agents(agents_init,2010)
agents_init
agents_in
agents_in <- initialise_agents(agents_init,2010)
load_all()
library(devtools)
load_all()
document()
check()
install()
library(devtools)
usethis::use_readme_rmd()
build_readme()
build_readme()
build_readme()
load_all()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
cer_systems
cer_systems$housecode %>% unique()
cer_systems$housecode %>% unique() %>% length()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
lambda.
cer_system$solar_capacity %>% unique()
cer_systems$solar_capacity %>% unique()
build_readme()
scenario_wem <- readxl::read_xlsx("~/Policy/AgentBasedModels/solarPV/scenario_parameters.xlsx", sheet="scenario_WEM")
self_sufficiency_fun <- function(sD,yeartime){
fall_year <- sD %>% dplyr::filter(parameter=="self_suff_premium_fall") %>% dplyr::pull(value)
vanish_year <- sD %>% dplyr::filter(parameter=="self_suff_premium_vanish") %>% dplyr::pull(value)
fact <- approx(x=c(fall_year,vanish_year), y=c(1,0),xout=yeartime,rule=2)$y
return(fact)
}
self_sufficiency_fun(scenarion_wem,2030)
self_sufficiency_fun(scenario_wem,2030)
self_sufficiency_fun(scenario_wem,2050)
self_sufficiency_fun(scenario_wem,2010)
self_sufficiency_fun(scenario_wem,2021)
self_sufficiency_fun(scenario_wem,2022)
self_sufficiency_fun(scenario_wem,2022.5)
scenario_wem <- readxl::read_xlsx("~/Policy/AgentBasedModels/solarPV/scenario_parameters.xlsx", sheet="scenario_WEM")
self_sufficiency_fun(scenario_wem,2022.5)
self_sufficiency_fun(scenario_wem,2023.5)
self_sufficiency_fun(scenario_wem,2024)
self_sufficiency_fun(scenario_wem,2025)
load_all()
params <- scenario_params_df(scenario_wem,2025) %>% fast_params()
params$self_sufficiency_effect
params <- scenario_params_df(scenario_wem,2021) %>% fast_params()
params$self_sufficiency_effect
aversion_4.
load_all()
document()
check()
install()
params$self_sufficiency_effect
params <- scenario_params_df(scenario_wem,2025) %>% fast_params()
params <- scenario_params_df(scenario_wem,2010) %>% fast_params()
params$self_sufficiency_effect
2*(0,2,3)
2*c(0,2,3)
sD <- scenario_wem
yeartime <- 2022
library(devtools)
scenario_wem <- readxl::read_xlsx("~/Policy/AgentBasedModels/solarPV/scenario_parameters.xlsx", sheet="scenario_WEM")
load_all()
self_sufficiency_fun(scenario_wem,2022)
self_sufficiency_fun(scenario_wem,2032)
self_sufficiency_fun(scenario_wem,2010.1)
params <- scenario_params_df(scenario_wem,2023.5)
params <- scenario_params_df(scenario_wem,2023.5) %>% fast_params()
params$self_sufficiency_effect
sD <- scenario_wem
yeartime <- 2023.5
agents_in <- initialise_agents(agents_init,2010)
social_network <- make_artificial_society()
social_network <- make_artificial_society(society,homophily)
social_network <- make_artificial_society(pv_society,homophily)
#
du_social <- dplyr::filter(empirical_u,code=="qsp21")$du_average
empirical_u = empirical_utils
ignore_social=F
#
du_social <- dplyr::filter(empirical_u,code=="qsp21")$du_average
theta <- dplyr::filter(empirical_u,code=="theta")$du_average
#self-sufficiency
averse <- c(0,0,0,aversion_4.,aversion_5.)*params$self_sufficiency_effect
#parameters from scenario corresponding to yeartime
params <- scenario_params_df(sD,yeartime) %>% fast_params()
runABM(sD,1,use_parallel=F)
runABM(sD,1,2030,use_parallel=F)
averse
#self-sufficiency
averse <- c(0,0,0,aversion_4.,aversion_5.)*params$self_sufficiency_effect
averse
load_all()
document()
check()
install()
library(devtools)
load_all()
sD <- scenario_wem
yeartime <- 2023
agents_in <- initialise_agents(agents_init,2010)
agents_init
lambda=2
clipping=T
agents_in <- initialise_agents(agents_init,2010)
agents_in <- initialise_agents(agents_init,2011)
#initialise to 2010
params <- scenario_params_df(scenario_wem,yeartime) %>% fast_params()
scenario_params_df(scenario_wem,yeartime)
self_sufficiency_fun(sD,yeartime)
self_sufficiency_fun(sD,yeartime)
fall_year <- sD %>% dplyr::filter(parameter=="self_suff_premium_fall") %>% dplyr::pull(value)
vanish_year <- sD %>% dplyr::filter(parameter=="self_suff_premium_vanish") %>% dplyr::pull(value)
fact <- approx(x=c(fall_year,vanish_year), y=c(1,0),xout=yeartime,rule=2)$y
c(fall_year,vanish_year)
fall_year <- sD %>% dplyr::filter(parameter=="self_suff_premium_fall") %>% dplyr::pull(value)
fall_year
sD %>% dplyr::filter(parameter=="self_suff_premium_fall")
sD$parameter
scenario_wem <- readxl::read_xlsx("~/Policy/AgentBasedModels/solarPV/scenario_parameters.xlsx", sheet="scenario_WEM")
use_data(scenario_wem,overwrite = T)
sD <- scenario_wem
sD %>% dplyr::filter(parameter=="self_suff_premium_fall")
scenario_params_df(scenario_wem,yeartime)
runABM(sD,1,2020,use_parallel = F)
document()
check()
install()
library(devtools)
load_all()
p.
lambda.
beta.
aversion_4.
aversion_5.
load_all()
document()
check()
use_data(beta.,aversion_4.,aversion_5.,overwrite=T,internal=T)
load_all()
check()
runABM(scenario_wem,4,2022)
install()
library(devtools)
load_all()
scenario_wem <- readxl::read_xlsx("~/Policy/AgentBasedModels/solarPV/scenario_parameters.xlsx", sheet="scenario_WEM")
use_data(scenario_wem,overwrite = T)
scenario_wem
params <- scenario_params_df(scenario_wem,2024) %>% fast_params()
params
params$grant_introduction_date
seai_grant(params,3,0)
params <- scenario_params_df(scenario_wem,2027) %>% fast_params()
seai_grant(params,3,0)
install.packages("gstat")
